{"version":3,"file":"alphabet-filter.js","sources":["../../src/filter.pipe.ts","../../src/alphabet-filter.component.ts","../../src/alphabet-filter.module.ts","../../src/alphabet-filter.ts"],"sourcesContent":["import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n\tname: 'filter'\n})\nexport class FilterPipe implements PipeTransform {\n\n\ttransform(list: any[], obj: any, startsWith: boolean = false): any {\n\t\tif ((list && Array.isArray(list)) && (obj && typeof obj === 'object')) {\n\t\t\tlet newList = list.filter((item) => {\n\t\t\t\tlet ok = true;\n\t\t\t\tfor (let key in obj) {\n\t\t\t\t\tif ((obj[key] != null) && (item[key] != null) && obj.hasOwnProperty(key)) {\n\t\t\t\t\t\tlet valueObj = obj[key];\n\t\t\t\t\t\tlet valueList = item[key];\n\n\t\t\t\t\t\tif (!Array.isArray(obj[key]) && Object.prototype.toString.call(obj[key]) !== '[object Object]') {\n\t\t\t\t\t\t\tvalueList = valueList.toString().toLowerCase().normalize('NFD').replace(/[\\u0300-\\u036f]/g, '');\n\t\t\t\t\t\t\tvalueObj = valueObj.toString().toLowerCase().normalize('NFD').replace(/[\\u0300-\\u036f]/g, '');\n\n\t\t\t\t\t\t\tif ((!startsWith && valueList.indexOf(valueObj) < 0) || (startsWith && !(valueList.startsWith(valueObj)))) {\n\t\t\t\t\t\t\t\tok = false;\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn ok;\n\t\t\t});\n\n\t\t\treturn newList;\n\t\t}\n\n\t\treturn list;\n\t}\n\n}\n","import { Component, Input, Output, EventEmitter, OnInit, ViewChild, ElementRef, OnChanges, SimpleChanges, ContentChild, Renderer2, TemplateRef, OnDestroy } from '@angular/core';\nimport { FormBuilder, FormGroup } from '@angular/forms';\nimport { FilterPipe } from './filter.pipe';\n\n@Component({\n\tselector: 'alphabet-filter',\n\ttemplateUrl: './alphabet-filter.component.html',\n\thost: {\n\t\t'(document:mousewheel)': 'onMouseWheelContent($event)',\n\t\t'(document:keydown)': 'onKeyDownContent($event)'\n\t},\n})\nexport class AlphabetFilterComponent implements OnInit, OnChanges, OnDestroy {\n\t@ContentChild(TemplateRef) templateRef: TemplateRef<any>;\n\n\t@ViewChild('inputBody') public inputBodyEl: ElementRef<HTMLElement>;\n\t@ViewChild('inputSearch') public inputSearchEl: ElementRef<HTMLElement>;\n\t@ViewChild('searchList') public searchListEl: ElementRef<HTMLElement>;\n\t@ViewChild('letterList') public letterList: ElementRef<HTMLElement>;\n\t@ViewChild('indicator') public indicatorEl: ElementRef<HTMLElement>;\n\t@ViewChild('content') public contentEl: ElementRef<HTMLElement>;\n\n\t@Input() height = '300px';\n\t@Input() propAlphaOrder = '';\n\t@Input() propsSearch: any = [];\n\t@Input() data: any[] = [];\n\t@Input() placeholder = 'digite sua busca';\n\t@Input() listClass: string = null;\n\t@Input() withTemplate = false;\n\t@Input() noSmoothScroll = false;\n\n\t@Output() onCancel = new EventEmitter<any>();\n\t@Output() onClick = new EventEmitter<any>();\n\n\tpublic form: FormGroup;\n\n\tpublic closed = false;\n\n\tpublic objFilter: any;\n\tpublic inputFocused: boolean = false;\n\n\tpublic heightContent: number = 0;\n\n\tpublic alphabet: string[] = [];\n\tpublic currentAlpha: string = '';\n\tpublic currentLetterElement: any = null;\n\n\tpublic hiddenTitle: boolean = false;\n\tpublic lettersListHeight: number = 0;\n\n\tpublic indicatorClicked = false;\n\n\tprivate goingToLetter: boolean = false;\n\n\tconstructor(\n\t\tprivate filter: FilterPipe,\n\t\tprivate renderer: Renderer2,\n\t\tprivate formBuilder: FormBuilder,\n\t) {\n\t\tfor (let i = 0; i < 26; i++) {\n\t\t\tthis.alphabet.push(String.fromCharCode(97 + i).toUpperCase());\n\t\t}\n\t\tthis.form = this.formBuilder.group({\n\t\t\tsearch: [null]\n\t\t});\n\t\tthis.form.get('search').valueChanges.subscribe(this.setFilter.bind(this));\n\t}\n\n\tngOnInit() {\n\t\tsetTimeout(() => {\n\t\t\tthis.renderer.listen(this.searchListEl.nativeElement, 'scroll', this.onScrollList.bind(this));\n\n\t\t\tthis.renderer.listen(this.contentEl.nativeElement, 'mouseup', this.onMouseUpContent.bind(this));\n\t\t\tthis.renderer.listen(this.contentEl.nativeElement, 'mousemove', this.onMouseMoveContent.bind(this));\n\n\t\t\tthis.renderer.listen(this.indicatorEl.nativeElement, 'mousedown', this.onMouseDownIndicator.bind(this));\n\t\t\tthis.renderer.listen(this.indicatorEl.nativeElement, 'mouseup', this.onMouseUpIndicator.bind(this));\n\n\t\t\tthis.heightContent = this.contentEl.nativeElement.clientHeight + (this.onCancel ? 20 : 37);\n\n\t\t\tthis.lettersListHeight = this.letterList.nativeElement.children[0].clientHeight;\n\n\t\t\tthis.focusInput();\n\t\t}, 100);\n\t}\n\n\tngOnChanges(changes: SimpleChanges) {\n\t\tif ('data' in changes) {\n\t\t\tthis.data = this.orderBy();\n\t\t\tif (this.data && this.propAlphaOrder) {\n\t\t\t\tthis.data.forEach((item) => {\n\t\t\t\t\tlet letter = item[this.propAlphaOrder].substr(0, 1);\n\t\t\t\t\titem['$letter'] = letter.toUpperCase();\n\t\t\t\t\titem['$class'] = 'let-' + letter.toLowerCase();\n\t\t\t\t});\n\n\t\t\t\tsetTimeout(() => this.defineCurrentLetterElement(), 100);\n\t\t\t}\n\t\t}\n\t\tif ('propsSearch' in changes && this.propsSearch) {\n\t\t\tif (typeof this.propsSearch === 'string')\n\t\t\t\tthis.propsSearch = [this.propsSearch];\n\n\t\t\tthis.objFilter = {};\n\t\t\tfor (const prop of this.propsSearch) { this.objFilter[prop] = null; }\n\t\t\tthis.setFilter();\n\t\t}\n\t}\n\n\tdefineCurrentLetterElement() {\n\t\tif (!this.goingToLetter) {\n\t\t\tconst ulPosition = this.searchListEl.nativeElement.getBoundingClientRect();\n\t\t\tconst ulTop = ulPosition.top;\n\n\t\t\tconst elementsLetters = [];\n\t\t\tlet current = null;\n\t\t\tfor (const liElement of (this.searchListEl.nativeElement.children as any)) {\n\t\t\t\tlet letterClass = '';\n\n\t\t\t\tfor (const className of liElement.classList) {\n\t\t\t\t\tif (className.startsWith('let-')) {\n\t\t\t\t\t\tletterClass = className;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (elementsLetters.filter(x => x.classList.contains(letterClass)).length === 0) {\n\t\t\t\t\telementsLetters.push(liElement);\n\n\t\t\t\t\tconst liPosition = liElement.getBoundingClientRect();\n\t\t\t\t\tconst liTop = liPosition.top - 20;\n\n\t\t\t\t\tif (liTop < ulTop) current = liElement;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (current && current !== this.currentLetterElement) {\n\t\t\t\tcurrent.children[0]['position'] = current.children[0].innerHTML.charCodeAt(0) - 65;\n\t\t\t\tthis.currentLetterElement = current;\n\t\t\t\tthis.currentAlpha = current.children[0].innerHTML;\n\t\t\t}\n\t\t\telse if (!current) {\n\t\t\t\tthis.currentLetterElement = null;\n\t\t\t\tthis.currentAlpha = '';\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic goLetter(letter: string) {\n\t\tthis.currentAlpha = letter;\n\n\t\tconst lettersElList = this.searchListEl.nativeElement.children as any;\n\t\tconst letterElement = [...lettersElList].find((el: HTMLElement) => {\n\t\t\tconst letterClass = ((el.classList.value.split(' ').find(x => x.startsWith('let-')) ?? '') as string).replace('let-', '');\n\t\t\treturn letterClass.toUpperCase() === letter.toUpperCase();\n\t\t});\n\t\tif (letterElement) {\n\t\t\tletterElement.children[0]['position'] = letterElement.children[0].innerHTML.charCodeAt(0) - 65;\n\t\t\tthis.currentLetterElement = letterElement;\n\t\t\tconst scrollHeight = this.searchListEl.nativeElement.scrollHeight - this.searchListEl.nativeElement.clientHeight;\n\t\t\tconst scrollTop = Math.min(scrollHeight, letterElement.offsetTop);\n\n\t\t\tthis.searchListEl.nativeElement.scrollTo({\n\t\t\t\tleft: 0,\n\t\t\t\ttop: scrollTop,\n\t\t\t\tbehavior: 'smooth'\n\t\t\t});\n\n\t\t\tthis.goingToLetter = true;\n\t\t\tconst checkIfScrollToIsFinished = setInterval(() => {\n\t\t\t\tif (scrollTop === this.searchListEl.nativeElement.scrollTop) {\n\t\t\t\t\tclearInterval(checkIfScrollToIsFinished);\n\t\t\t\t\tthis.goingToLetter = false;\n\t\t\t\t}\n\t\t\t}, 60);\n\t\t}\n\t}\n\tonMouseMoveContent(event) {\n\t\tif (!this.form.get('search').value && this.indicatorClicked) {\n\t\t\tfor (const letter of (this.letterList.nativeElement.children as any)) {\n\t\t\t\tif (letter.classList.contains('contains')) {\n\t\t\t\t\tconst position = letter.getBoundingClientRect();\n\t\t\t\t\tconst bounds = { top: position.y, bottom: (position.y + letter.clientHeight) };\n\n\t\t\t\t\tif (event.clientY >= bounds.top && event.clientY <= bounds.bottom) {\n\n\t\t\t\t\t\tif (this.currentAlpha !== letter.children[0].innerHTML)\n\t\t\t\t\t\t\tthis.goLetter(letter.children[0].innerHTML);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tonMouseDownIndicator(event) { if (event.button === 0) this.indicatorClicked = true; }\n\n\tonMouseUpIndicator() { this.indicatorClicked = false; }\n\n\tonMouseUpContent() { this.indicatorClicked = false; }\n\n\tonScrollList(e) {\n\t\tif (!this.goingToLetter) {\n\t\t\tif (!this.indicatorClicked) this.defineCurrentLetterElement();\n\t\t}\n\t}\n\n\tonMouseWheelContent(event: any) {\n\t}\n\n\tonKeyDownContent(event: KeyboardEvent) {\n\t\tconst e = event as any;\n\t\tconst key = (e.key || e.keyIdentifier || e.keyCode) as any;\n\t\tif (key === 27 || key === 'Escape')\n\t\t\tthis.close();\n\t}\n\n\tclick(data = null) {\n\t\tthis.onClick.emit(data);\n\t}\n\n\tclose() {\n\t\tif (this.onCancel.observers.length > 0)\n\t\t\tthis.onCancel.emit();\n\t}\n\n\tfocusInput() {\n\t\tthis.inputSearchEl.nativeElement.focus();\n\t}\n\n\tstartsWithLetter(_letter: string) {\n\t\tconst letter = _letter.toUpperCase();\n\t\treturn this.filter.transform(this.data, this.objFilter, true)\n\t\t\t.filter(x => x[this.propAlphaOrder].toUpperCase().startsWith(letter))\n\t\t\t.length > 0;\n\t}\n\n\tsetFilter() {\n\t\tif (this.objFilter) {\n\t\t\tObject.keys(this.objFilter).forEach((prop) => {\n\t\t\t\tthis.objFilter[prop] = this.form.get('search').value\n\t\t\t});\n\t\t\tthis.objFilter = Object.assign({}, this.objFilter);\n\t\t\tsetTimeout(() => this.defineCurrentLetterElement(), 100);\n\t\t}\n\t}\n\n\tpublic clearFilter() {\n\t\tthis.form.get('search').setValue(null);\n\t\tthis.setFilter();\n\t}\n\n\tprivate orderBy() {\n\t\treturn this.data.sort((a: {[key: string]: string}, b: any) => {\n\t\t\tif (a[this.propAlphaOrder].toUpperCase() < b[this.propAlphaOrder].toUpperCase())\n\t\t\t\treturn -1;\n\t\t\tif (a[this.propAlphaOrder].toUpperCase() > b[this.propAlphaOrder].toUpperCase())\n\t\t\t\treturn 1;\n\n\t\t\treturn 0;\n\t\t});\n\t}\n\n\tngOnDestroy(): void {\n\t}\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ReactiveFormsModule } from '@angular/forms';\n\nimport { AlphabetFilterComponent } from './alphabet-filter.component';\nimport { FilterPipe } from './filter.pipe';\n\n@NgModule({\n    imports: [\n\t\tCommonModule,\n        ReactiveFormsModule,\n    ],\n    exports: [\n        AlphabetFilterComponent\n    ],\n    declarations: [\n        AlphabetFilterComponent,\n        FilterPipe,\n    ],\n    providers: [\n        FilterPipe\n    ]\n})\nexport class AlphabetFilterModule { }\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n\nexport {FilterPipe as ɵa} from './filter.pipe';"],"names":[],"mappings":";;;;MAKa,UAAU;IAEtB,SAAS,CAAC,IAAW,EAAE,GAAQ,EAAE,aAAsB,KAAK;QAC3D,IAAI,CAAC,IAAI,IAAI,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,OAAO,GAAG,KAAK,QAAQ,CAAC,EAAE;YACtE,IAAI,OAAO,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,IAAI;gBAC9B,IAAI,EAAE,GAAG,IAAI,CAAC;gBACd,KAAK,IAAI,GAAG,IAAI,GAAG,EAAE;oBACpB,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,IAAI,IAAI,MAAM,IAAI,CAAC,GAAG,CAAC,IAAI,IAAI,CAAC,IAAI,GAAG,CAAC,cAAc,CAAC,GAAG,CAAC,EAAE;wBACzE,IAAI,QAAQ,GAAG,GAAG,CAAC,GAAG,CAAC,CAAC;wBACxB,IAAI,SAAS,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC;wBAE1B,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,IAAI,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,KAAK,iBAAiB,EAAE;4BAC/F,SAAS,GAAG,SAAS,CAAC,QAAQ,EAAE,CAAC,WAAW,EAAE,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,OAAO,CAAC,kBAAkB,EAAE,EAAE,CAAC,CAAC;4BAChG,QAAQ,GAAG,QAAQ,CAAC,QAAQ,EAAE,CAAC,WAAW,EAAE,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,OAAO,CAAC,kBAAkB,EAAE,EAAE,CAAC,CAAC;4BAE9F,IAAI,CAAC,CAAC,UAAU,IAAI,SAAS,CAAC,OAAO,CAAC,QAAQ,CAAC,GAAG,CAAC,MAAM,UAAU,IAAI,EAAE,SAAS,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC,CAAC,EAAE;gCAC1G,EAAE,GAAG,KAAK,CAAC;gCACX,OAAO;6BACP;yBACD;qBACD;iBACD;gBAED,OAAO,EAAE,CAAC;aACV,CAAC,CAAC;YAEH,OAAO,OAAO,CAAC;SACf;QAED,OAAO,IAAI,CAAC;KACZ;;;YAjCD,IAAI,SAAC;gBACL,IAAI,EAAE,QAAQ;aACd;;;MCQY,uBAAuB;IA0CnC,YACS,MAAkB,EAClB,QAAmB,EACnB,WAAwB;QAFxB,WAAM,GAAN,MAAM,CAAY;QAClB,aAAQ,GAAR,QAAQ,CAAW;QACnB,gBAAW,GAAX,WAAW,CAAa;QAnCxB,WAAM,GAAG,OAAO,CAAC;QACjB,mBAAc,GAAG,EAAE,CAAC;QACpB,gBAAW,GAAQ,EAAE,CAAC;QACtB,SAAI,GAAU,EAAE,CAAC;QACjB,gBAAW,GAAG,kBAAkB,CAAC;QACjC,cAAS,GAAW,IAAI,CAAC;QACzB,iBAAY,GAAG,KAAK,CAAC;QACrB,mBAAc,GAAG,KAAK,CAAC;QAEtB,aAAQ,GAAG,IAAI,YAAY,EAAO,CAAC;QACnC,YAAO,GAAG,IAAI,YAAY,EAAO,CAAC;QAIrC,WAAM,GAAG,KAAK,CAAC;QAGf,iBAAY,GAAY,KAAK,CAAC;QAE9B,kBAAa,GAAW,CAAC,CAAC;QAE1B,aAAQ,GAAa,EAAE,CAAC;QACxB,iBAAY,GAAW,EAAE,CAAC;QAC1B,yBAAoB,GAAQ,IAAI,CAAC;QAEjC,gBAAW,GAAY,KAAK,CAAC;QAC7B,sBAAiB,GAAW,CAAC,CAAC;QAE9B,qBAAgB,GAAG,KAAK,CAAC;QAExB,kBAAa,GAAY,KAAK,CAAC;QAOtC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE,CAAC,EAAE,EAAE;YAC5B,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC,WAAW,EAAE,CAAC,CAAC;SAC9D;QACD,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC;YAClC,MAAM,EAAE,CAAC,IAAI,CAAC;SACd,CAAC,CAAC;QACH,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,YAAY,CAAC,SAAS,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;KAC1E;IAED,QAAQ;QACP,UAAU,CAAC;YACV,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC,aAAa,EAAE,QAAQ,EAAE,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;YAE9F,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,aAAa,EAAE,SAAS,EAAE,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;YAChG,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,aAAa,EAAE,WAAW,EAAE,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;YAEpG,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,aAAa,EAAE,WAAW,EAAE,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;YACxG,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,aAAa,EAAE,SAAS,EAAE,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;YAEpG,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,YAAY,IAAI,IAAI,CAAC,QAAQ,GAAG,EAAE,GAAG,EAAE,CAAC,CAAC;YAE3F,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC;YAEhF,IAAI,CAAC,UAAU,EAAE,CAAC;SAClB,EAAE,GAAG,CAAC,CAAC;KACR;IAED,WAAW,CAAC,OAAsB;QACjC,IAAI,MAAM,IAAI,OAAO,EAAE;YACtB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,OAAO,EAAE,CAAC;YAC3B,IAAI,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,cAAc,EAAE;gBACrC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,IAAI;oBACtB,IAAI,MAAM,GAAG,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;oBACpD,IAAI,CAAC,SAAS,CAAC,GAAG,MAAM,CAAC,WAAW,EAAE,CAAC;oBACvC,IAAI,CAAC,QAAQ,CAAC,GAAG,MAAM,GAAG,MAAM,CAAC,WAAW,EAAE,CAAC;iBAC/C,CAAC,CAAC;gBAEH,UAAU,CAAC,MAAM,IAAI,CAAC,0BAA0B,EAAE,EAAE,GAAG,CAAC,CAAC;aACzD;SACD;QACD,IAAI,aAAa,IAAI,OAAO,IAAI,IAAI,CAAC,WAAW,EAAE;YACjD,IAAI,OAAO,IAAI,CAAC,WAAW,KAAK,QAAQ;gBACvC,IAAI,CAAC,WAAW,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;YAEvC,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;YACpB,KAAK,MAAM,IAAI,IAAI,IAAI,CAAC,WAAW,EAAE;gBAAE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC;aAAE;YACrE,IAAI,CAAC,SAAS,EAAE,CAAC;SACjB;KACD;IAED,0BAA0B;QACzB,IAAI,CAAC,IAAI,CAAC,aAAa,EAAE;YACxB,MAAM,UAAU,GAAG,IAAI,CAAC,YAAY,CAAC,aAAa,CAAC,qBAAqB,EAAE,CAAC;YAC3E,MAAM,KAAK,GAAG,UAAU,CAAC,GAAG,CAAC;YAE7B,MAAM,eAAe,GAAG,EAAE,CAAC;YAC3B,IAAI,OAAO,GAAG,IAAI,CAAC;YACnB,KAAK,MAAM,SAAS,IAAK,IAAI,CAAC,YAAY,CAAC,aAAa,CAAC,QAAgB,EAAE;gBAC1E,IAAI,WAAW,GAAG,EAAE,CAAC;gBAErB,KAAK,MAAM,SAAS,IAAI,SAAS,CAAC,SAAS,EAAE;oBAC5C,IAAI,SAAS,CAAC,UAAU,CAAC,MAAM,CAAC,EAAE;wBACjC,WAAW,GAAG,SAAS,CAAC;wBACxB,MAAM;qBACN;iBACD;gBAED,IAAI,eAAe,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,CAAC,SAAS,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC,CAAC,MAAM,KAAK,CAAC,EAAE;oBAChF,eAAe,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;oBAEhC,MAAM,UAAU,GAAG,SAAS,CAAC,qBAAqB,EAAE,CAAC;oBACrD,MAAM,KAAK,GAAG,UAAU,CAAC,GAAG,GAAG,EAAE,CAAC;oBAElC,IAAI,KAAK,GAAG,KAAK;wBAAE,OAAO,GAAG,SAAS,CAAC;iBACvC;aACD;YAED,IAAI,OAAO,IAAI,OAAO,KAAK,IAAI,CAAC,oBAAoB,EAAE;gBACrD,OAAO,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC;gBACnF,IAAI,CAAC,oBAAoB,GAAG,OAAO,CAAC;gBACpC,IAAI,CAAC,YAAY,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC;aAClD;iBACI,IAAI,CAAC,OAAO,EAAE;gBAClB,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC;gBACjC,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;aACvB;SACD;KACD;IAEM,QAAQ,CAAC,MAAc;QAC7B,IAAI,CAAC,YAAY,GAAG,MAAM,CAAC;QAE3B,MAAM,aAAa,GAAG,IAAI,CAAC,YAAY,CAAC,aAAa,CAAC,QAAe,CAAC;QACtE,MAAM,aAAa,GAAG,CAAC,GAAG,aAAa,CAAC,CAAC,IAAI,CAAC,CAAC,EAAe;;YAC7D,MAAM,WAAW,GAAI,OAAC,EAAE,CAAC,SAAS,CAAC,KAAK,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC,mCAAI,EAAE,EAAa,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC;YAC1H,OAAO,WAAW,CAAC,WAAW,EAAE,KAAK,MAAM,CAAC,WAAW,EAAE,CAAC;SAC1D,CAAC,CAAC;QACH,IAAI,aAAa,EAAE;YAClB,aAAa,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,GAAG,aAAa,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC;YAC/F,IAAI,CAAC,oBAAoB,GAAG,aAAa,CAAC;YAC1C,MAAM,YAAY,GAAG,IAAI,CAAC,YAAY,CAAC,aAAa,CAAC,YAAY,GAAG,IAAI,CAAC,YAAY,CAAC,aAAa,CAAC,YAAY,CAAC;YACjH,MAAM,SAAS,GAAG,IAAI,CAAC,GAAG,CAAC,YAAY,EAAE,aAAa,CAAC,SAAS,CAAC,CAAC;YAElE,IAAI,CAAC,YAAY,CAAC,aAAa,CAAC,QAAQ,CAAC;gBACxC,IAAI,EAAE,CAAC;gBACP,GAAG,EAAE,SAAS;gBACd,QAAQ,EAAE,QAAQ;aAClB,CAAC,CAAC;YAEH,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;YAC1B,MAAM,yBAAyB,GAAG,WAAW,CAAC;gBAC7C,IAAI,SAAS,KAAK,IAAI,CAAC,YAAY,CAAC,aAAa,CAAC,SAAS,EAAE;oBAC5D,aAAa,CAAC,yBAAyB,CAAC,CAAC;oBACzC,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;iBAC3B;aACD,EAAE,EAAE,CAAC,CAAC;SACP;KACD;IACD,kBAAkB,CAAC,KAAK;QACvB,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,KAAK,IAAI,IAAI,CAAC,gBAAgB,EAAE;YAC5D,KAAK,MAAM,MAAM,IAAK,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,QAAgB,EAAE;gBACrE,IAAI,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,UAAU,CAAC,EAAE;oBAC1C,MAAM,QAAQ,GAAG,MAAM,CAAC,qBAAqB,EAAE,CAAC;oBAChD,MAAM,MAAM,GAAG,EAAE,GAAG,EAAE,QAAQ,CAAC,CAAC,EAAE,MAAM,GAAG,QAAQ,CAAC,CAAC,GAAG,MAAM,CAAC,YAAY,CAAC,EAAE,CAAC;oBAE/E,IAAI,KAAK,CAAC,OAAO,IAAI,MAAM,CAAC,GAAG,IAAI,KAAK,CAAC,OAAO,IAAI,MAAM,CAAC,MAAM,EAAE;wBAElE,IAAI,IAAI,CAAC,YAAY,KAAK,MAAM,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,SAAS;4BACrD,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC;wBAC7C,MAAM;qBACN;iBACD;aACD;SACD;KACD;IAED,oBAAoB,CAAC,KAAK,IAAI,IAAI,KAAK,CAAC,MAAM,KAAK,CAAC;QAAE,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,EAAE;IAErF,kBAAkB,KAAK,IAAI,CAAC,gBAAgB,GAAG,KAAK,CAAC,EAAE;IAEvD,gBAAgB,KAAK,IAAI,CAAC,gBAAgB,GAAG,KAAK,CAAC,EAAE;IAErD,YAAY,CAAC,CAAC;QACb,IAAI,CAAC,IAAI,CAAC,aAAa,EAAE;YACxB,IAAI,CAAC,IAAI,CAAC,gBAAgB;gBAAE,IAAI,CAAC,0BAA0B,EAAE,CAAC;SAC9D;KACD;IAED,mBAAmB,CAAC,KAAU;KAC7B;IAED,gBAAgB,CAAC,KAAoB;QACpC,MAAM,CAAC,GAAG,KAAY,CAAC;QACvB,MAAM,GAAG,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,aAAa,IAAI,CAAC,CAAC,OAAO,CAAQ,CAAC;QAC3D,IAAI,GAAG,KAAK,EAAE,IAAI,GAAG,KAAK,QAAQ;YACjC,IAAI,CAAC,KAAK,EAAE,CAAC;KACd;IAED,KAAK,CAAC,IAAI,GAAG,IAAI;QAChB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;KACxB;IAED,KAAK;QACJ,IAAI,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,MAAM,GAAG,CAAC;YACrC,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC;KACtB;IAED,UAAU;QACT,IAAI,CAAC,aAAa,CAAC,aAAa,CAAC,KAAK,EAAE,CAAC;KACzC;IAED,gBAAgB,CAAC,OAAe;QAC/B,MAAM,MAAM,GAAG,OAAO,CAAC,WAAW,EAAE,CAAC;QACrC,OAAO,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC;aAC3D,MAAM,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,WAAW,EAAE,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;aACpE,MAAM,GAAG,CAAC,CAAC;KACb;IAED,SAAS;QACR,IAAI,IAAI,CAAC,SAAS,EAAE;YACnB,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,OAAO,CAAC,CAAC,IAAI;gBACxC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,KAAK,CAAA;aACpD,CAAC,CAAC;YACH,IAAI,CAAC,SAAS,GAAG,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;YACnD,UAAU,CAAC,MAAM,IAAI,CAAC,0BAA0B,EAAE,EAAE,GAAG,CAAC,CAAC;SACzD;KACD;IAEM,WAAW;QACjB,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;QACvC,IAAI,CAAC,SAAS,EAAE,CAAC;KACjB;IAEO,OAAO;QACd,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAA0B,EAAE,CAAM;YACxD,IAAI,CAAC,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,WAAW,EAAE,GAAG,CAAC,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,WAAW,EAAE;gBAC9E,OAAO,CAAC,CAAC,CAAC;YACX,IAAI,CAAC,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,WAAW,EAAE,GAAG,CAAC,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,WAAW,EAAE;gBAC9E,OAAO,CAAC,CAAC;YAEV,OAAO,CAAC,CAAC;SACT,CAAC,CAAC;KACH;IAED,WAAW;KACV;;;YApQD,SAAS,SAAC;gBACV,QAAQ,EAAE,iBAAiB;gBAC3B,8gKAA+C;gBAC/C,IAAI,EAAE;oBACL,uBAAuB,EAAE,6BAA6B;oBACtD,oBAAoB,EAAE,0BAA0B;iBAChD;aACD;;;YATQ,UAAU;YAFqG,SAAS;YACxH,WAAW;;;0BAYlB,YAAY,SAAC,WAAW;0BAExB,SAAS,SAAC,WAAW;4BACrB,SAAS,SAAC,aAAa;2BACvB,SAAS,SAAC,YAAY;yBACtB,SAAS,SAAC,YAAY;0BACtB,SAAS,SAAC,WAAW;wBACrB,SAAS,SAAC,SAAS;qBAEnB,KAAK;6BACL,KAAK;0BACL,KAAK;mBACL,KAAK;0BACL,KAAK;wBACL,KAAK;2BACL,KAAK;6BACL,KAAK;uBAEL,MAAM;sBACN,MAAM;;;MCTK,oBAAoB;;;YAhBhC,QAAQ,SAAC;gBACN,OAAO,EAAE;oBACX,YAAY;oBACN,mBAAmB;iBACtB;gBACD,OAAO,EAAE;oBACL,uBAAuB;iBAC1B;gBACD,YAAY,EAAE;oBACV,uBAAuB;oBACvB,UAAU;iBACb;gBACD,SAAS,EAAE;oBACP,UAAU;iBACb;aACJ;;;ACtBD;;;;;;"}